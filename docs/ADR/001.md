 # ADR: 001  - Escolha da arquitetura de Microsserviços
Data: 2025-10-28  
Responsável: André Vinícius Falcão
  
## :open_book: Contexto  
O sistema necessita de uma estrutura que priorize escalabilidade individual, mitigação de falhas com estratégias de resiliência, com a capacidade de recuperação de mensagens. A proposta inicial prevê três serviços, o **Controle de Lançamentos**, o **Consolidação Financeira API** e o **Consolidação Financeira Worker**.

## :bulb: Decisão
Adotar a Arquitetura de Microserviços para todo o sistema, o objetivo é garantir que cada serviço possa escalar e falhar individualmente atendendo ao RNF04. Para o presente caso é possível notar  no diagrama C2 que o `Worker` e o serviço `Consolidação Financeira API` compartilham o acesso a mesma base, que é uma anomalia é compreendida e documentada, tendo por objetivo segregar as responsabilidades do serviço, garantir o limite do domínio de cada aplicação, e proporcionar uma integração adequada com as mensagerias.

  
## :balance_scale: Justificativa  
- **Melhor Escalabilidade:** A separação das responsabilidades (APIs e Worker) permite que cada serviço escale de forma independente de acordo com sua demanda específica.

- **Falhas Segregadas:** A segregação promove menor impacto na recuperação do sistema, pois falhas em um serviço são isoladas.

- **Otimização de Recursos:** Permite focar na especialidade de cada serviço, otimizando o uso de recursos.

- **Flexibilidade:** Oferece a flexibilidade para criar o **Worker** em uma **função serverless**.


## :bulb: Alternativas Consideradas  
- **Arquitetura Monolítica:** Descartada devido aos requisitos de escalabilidade individual e mitigação de falhas. O que não atenderia ao RNF04.

## :hourglass_flowing_sand: **Consequências**  

:white_check_mark: **Positivas**

- Estrutura mais resiliente e tolerante a falhas, permitindo por exemplo que as mensagens propagadas entre os serviços sejam recuperadas.
- Potencial para escalabilidade vertical.

:no_entry: **Negativas**

- Existe uma anomalia para o modelo de Microsserviços acima comentada.
